:root{
  --bg-1: #fffafc;
  --bg-2: #fff5f9;
  --card: #ffffff;
  --accent: #ff6f91;
  --muted: #6c6c6c;
  --shadow: 0 20px 50px rgba(30,20,40,0.06);
  --max-width: 900px;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  background: linear-gradient(180deg, var(--bg-1), var(--bg-2));
  display:flex;
  align-items:center;
  justify-content:center;
  padding:36px;
  color:#222;
}

.page{width:100%; max-width:var(--max-width); padding:12px}
.card{
  background:var(--card);
  border-radius:16px;
  padding:22px;
  box-shadow:var(--shadow);
  text-align:center;
  position:relative;
  overflow:visible;
}

.bg-deco{
  position:absolute;
  right:22px;
  top:12px;
  width:140px;
  height:110px;
  background-size:cover;
  background-position:center;
  opacity:0.12;
  border-radius:10px;
  pointer-events:none;
  filter: blur(2px);
}

/* top controls (candle count) */
.controls-top{ display:flex; justify-content:center; margin-bottom:6px; align-items:center; gap:10px; }
.candle-controls{ display:flex; gap:8px; align-items:center; }
.candle-controls input[type="range"]{ width:220px; }
.candle-controls button{ padding:6px 10px; border-radius:8px; border:1px solid #ffd6e6; background:#fff0f5; cursor:pointer; }

/* layout */
.title{margin:0; font-size:20px; font-weight:700}
.cake-wrap{margin:14px auto; width:100%; max-width:640px; cursor:pointer; outline:none}
.cake-svg{width:100%; height:auto; display:block}

/* controls */
.controls{display:flex; gap:10px; justify-content:center; margin-top:14px; flex-wrap:wrap}
button{
  background:var(--accent);
  color:white;
  border:0;
  padding:10px 18px;
  border-radius:12px;
  cursor:pointer;
  font-weight:700;
  box-shadow:0 8px 22px rgba(255,111,145,0.12);
}
button.secondary{
  background:#fff;
  color:#222;
  border:1px solid #eee;
  box-shadow:none;
}

/* hint */
.hint{font-size:13px; color:var(--muted); margin-top:10px}
kbd{background:#f3f3f6; padding:3px 6px; border-radius:6px; font-family:monospace; font-size:12px}

/* flame & candle styling (animated by JS) */
.candle .flame{
  transform-origin: center 12px;
  transition: transform 140ms linear, opacity 200ms linear;
  filter: drop-shadow(0 6px 12px rgba(255,140,120,0.10));
}
.candle .flameGlow{ transition: transform 200ms linear, opacity 160ms linear; }

/* out/on states applied to .cake-wrap */
.candle-out .candle .flame, .candle-out .candle .flameGlow {
  opacity:0;
  transform: scale(0.25) translateY(6px);
}
.candle-on .candle .flame, .candle-on .candle .flameGlow {
  opacity:1;
  transform: scale(1) translateY(0);
}

/* confetti pieces */
.conf{ transition: transform 900ms cubic-bezier(.17,.84,.44,1), opacity 900ms; transform-origin:center; }

/* responsive */
@media (max-width:520px){
  .bg-deco{ display:none }
  .card{ padding:16px }
  button{ padding:8px 12px; font-size:14px }
  .candle-controls input[type="range"]{ width:140px; }
}
