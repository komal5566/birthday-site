<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Fav Music ‚Äî For You</title>
    <style>
      :root {
        /* Soft Romantic Pink Theme */
        --bg1: #fff5fa; /* blush base */
        --bg2: #ffd6e8; /* soft pink fade */
        --accent1: #ff9fbd; /* richer pink */
        --accent2: #ff7aa6; /* warm rosy pink */

        --muted: #775f70; /* soft mauve text */
        --card: rgba(255, 245, 250, 0.92); /* lighter, softer glass card */
        --glass: rgba(255, 245, 249, 0.72);

        /* Shadows ‚Äì dreamy lavender-pink */
        --shadow-lg: 0 32px 70px rgba(180, 120, 150, 0.18);
        --shadow-sm: 0 10px 26px rgba(200, 140, 165, 0.12);

        --radius: 16px;
      }

      /* reset + base */
      * {
        box-sizing: border-box;
      }
      html,
      body {
        height: 100%;
        margin: 0;
        font-family: "Poppins", system-ui, -apple-system, "Segoe UI", Roboto,
          Arial;
        background: radial-gradient(
            1200px 600px at 10% 10%,
            rgba(255, 230, 240, 0.12),
            transparent 8%
          ),
          linear-gradient(180deg, var(--bg1), var(--bg2));
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        color: #3a2b35;
      }
      body.love-active {
        background: linear-gradient(180deg, #ffe4f1, #ffd0e7) !important;
      }
      .fade-page {
        opacity: 0;
        transform: translateY(14px);
        animation: pageFade 900ms ease forwards;
      }

      @keyframes pageFade {
        0% {
          opacity: 0;
          transform: translateY(14px);
        }
        100% {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .spark {
        width: 10px;
        height: 10px;
        background: #ff7aa6;
        border-radius: 999px;
        position: fixed;
        animation: sparkle 1.2s ease-out forwards;
        pointer-events: none;
      }

      @keyframes sparkle {
        0% {
          transform: scale(1);
          opacity: 1;
        }
        100% {
          transform: translateY(-40px) scale(0);
          opacity: 0;
        }
      }

      .ribbon {
        position: fixed;
        top: -40px;
        width: 120px;
        height: 240px;
        background: linear-gradient(
          180deg,
          rgba(255, 122, 166, 0.3),
          rgba(255, 220, 240, 0.4)
        );
        filter: blur(2px);
        border-radius: 60px;
        animation: floatRibbon 9s ease-in-out infinite;
        pointer-events: none;
        z-index: -1;
      }

      .ribbon.one {
        left: 12%;
        animation-delay: 0s;
      }
      .ribbon.two {
        left: 72%;
        animation-delay: 3s;
        height: 280px;
      }
      .ribbon.three {
        left: 45%;
        animation-delay: 6s;
        height: 200px;
      }

      @keyframes floatRibbon {
        0% {
          transform: translateY(0) rotate(0deg);
          opacity: 0.4;
        }
        50% {
          transform: translateY(40px) rotate(4deg);
          opacity: 0.6;
        }
        100% {
          transform: translateY(0) rotate(0deg);
          opacity: 0.4;
        }
      }

      main.wrap {
        width: 100%;
        max-width: 1200px;
        margin: 28px;
        border-radius: 22px;
        padding: 28px;
        background: linear-gradient(
          180deg,
          rgba(255, 255, 255, 0.9),
          rgba(255, 255, 255, 0.84)
        );
        box-shadow: var(--shadow-lg);
        display: grid;
        grid-template-columns: 1fr 360px;
        gap: 22px;
        position: relative;
        overflow: hidden;
        border: 1px solid rgba(255, 127, 170, 0.06);
      }

      .banner-ghost {
        position: absolute;
        left: 50%;
        top: -38px;
        transform: translateX(-50%);
        width: 820px;
        height: 96px;
        background: url("./assets/banner.png") center/cover no-repeat;
        opacity: 0.08;
        filter: blur(3px);
        pointer-events: none;
      }

      header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 12px;
        margin-bottom: 8px;
      }
      h1 {
        font-family: "Lobster", cursive;
        font-size: 28px;
        margin: 0;
        color: #7b2d5a;
        letter-spacing: 0.2px;
      }
      .sub {
        color: var(--muted);
        font-size: 13px;
        margin-top: 6px;
      }

      /* player area */
      .player-area {
        padding-right: 6px;
      }
      .now-card {
        display: flex;
        gap: 14px;
        align-items: center;
        padding: 16px;
        border-radius: 16px;
        background: linear-gradient(
          180deg,
          rgba(255, 255, 255, 0.9),
          rgba(255, 255, 255, 0.82)
        );
        box-shadow: var(--shadow-sm);
        border: 1px solid rgba(123, 45, 90, 0.03);
        transition: transform 240ms ease, box-shadow 240ms ease;
      }
      .now-card:hover {
        transform: translateY(-6px);
        box-shadow: 0 22px 48px rgba(24, 8, 32, 0.1);
      }

      .cover {
        width: 108px;
        height: 108px;
        border-radius: 14px;
        overflow: hidden;
        border: 6px solid rgba(255, 255, 255, 0.6);
        box-shadow: 0 12px 36px rgba(17, 12, 34, 0.06);
        background: #fff;
        flex-shrink: 0;
        transform-origin: center;
        transition: transform 360ms cubic-bezier(0.2, 0.9, 0.3, 1);
      }
      .cover img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        display: block;
      }
      .now-card:hover .cover {
        transform: rotate(-2deg) scale(1.02);
      }

      .track-meta {
        display: flex;
        flex-direction: column;
        gap: 8px;
      }
      .track-title {
        font-weight: 800;
        color: #4b2330;
        font-size: 18px;
        letter-spacing: 0.2px;
      }
      .track-artist {
        font-size: 13px;
        color: var(--muted);
      }

      /* controls */
      .controls {
        margin-top: 12px;
        display: flex;
        gap: 12px;
        align-items: center;
        flex-wrap: wrap;
      }
      .big-play {
        width: 90px;
        height: 90px;
        border-radius: 999px;
        border: none;
        background: linear-gradient(180deg, var(--accent1), var(--accent2));
        color: white;
        font-size: 28px;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        box-shadow: 0 18px 46px rgba(255, 127, 170, 0.18);
        transition: transform 160ms ease;
      }
      .big-play:active {
        transform: scale(0.98);
      }
      .small-btn {
        padding: 10px 14px;
        border-radius: 999px;
        border: none;
        background: #ffdfe7;
        color: #7b2d5a;
        font-weight: 700;
        cursor: pointer;
        box-shadow: var(--shadow-sm);
      }
      .small-btn:focus {
        outline: 3px solid rgba(255, 127, 170, 0.16);
        outline-offset: 2px;
      }

      /* progress */
      .progress-wrap {
        margin-top: 14px;
        display: flex;
        gap: 10px;
        align-items: center;
      }
      .progress-time {
        font-size: 12px;
        color: var(--muted);
        width: 48px;
        text-align: center;
      }
      input[type="range"] {
        appearance: none;
        height: 10px;
        background: linear-gradient(90deg, #ffdfe7, #ffd0e0);
        border-radius: 999px;
        outline: none;
        flex: 1;
      }
      input[type="range"]::-webkit-slider-thumb {
        appearance: none;
        width: 18px;
        height: 18px;
        border-radius: 999px;
        background: linear-gradient(180deg, var(--accent1), var(--accent2));
        box-shadow: 0 8px 18px rgba(255, 127, 170, 0.18);
      }

      /* playlist */
      .playlist {
        margin-top: 18px;
        display: flex;
        flex-direction: column;
        gap: 10px;
        max-height: 380px;
        overflow: auto;
        padding-right: 6px;
      }
      .song {
        display: flex;
        gap: 12px;
        align-items: center;
        padding: 10px;
        border-radius: 12px;
        background: linear-gradient(180deg, #fff6f8, #fff);
        cursor: pointer;
        transition: transform 160ms ease, box-shadow 160ms;
      }
      .song:hover {
        transform: translateY(-4px);
        box-shadow: 0 14px 36px rgba(24, 8, 32, 0.06);
      }
      .song.active {
        background: linear-gradient(180deg, #ffdfe6, #ffd0db);
        box-shadow: inset 0 2px 0 rgba(255, 255, 255, 0.5);
      }
      .s-left {
        width: 56px;
        height: 56px;
        border-radius: 10px;
        overflow: hidden;
        background: #fff;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: var(--shadow-sm);
      }
      .s-left img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }
      .s-right {
        flex: 1;
        display: flex;
        flex-direction: column;
      }
      .s-title {
        font-weight: 700;
        font-size: 14px;
        color: #4b2330;
      }
      .s-artist {
        font-size: 12px;
        color: var(--muted);
      }

      /* side column */
      aside.side {
        display: flex;
        flex-direction: column;
        gap: 14px;
        align-items: stretch;
      }
      .panel {
        background: linear-gradient(
          180deg,
          var(--glass),
          rgba(255, 255, 255, 0.94)
        );
        padding: 12px;
        border-radius: 12px;
        box-shadow: var(--shadow-sm);
        border: 1px solid rgba(123, 45, 90, 0.03);
      }
      .panel h3 {
        margin: 0 0 8px;
        color: #6f2f3e;
      }

      .cover-large {
        width: 100%;
        height: 220px;
        border-radius: 12px;
        overflow: hidden;
      }
      .cover-large img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }

      .navs {
        display: flex;
        gap: 10px;
        margin-top: 8px;
      }
      .navs button {
        flex: 1;
        padding: 10px;
        border-radius: 10px;
        border: none;
        background: linear-gradient(180deg, var(--accent1), var(--accent2));
        cursor: pointer;
        color: white;
        font-weight: 800;
        box-shadow: 0 8px 22px rgba(17, 12, 34, 0.06);
      }
      .navs button:active {
        transform: translateY(1px);
      }

      .deco-heart {
        position: absolute;
        right: 18px;
        top: 18px;
        font-size: 44px;
        opacity: 0.06;
        transform: rotate(-8deg);
        pointer-events: none;
        transition: transform 420ms;
      }
      .wrap:hover .deco-heart {
        transform: translateX(6px) rotate(-2deg);
        opacity: 0.08;
      }

      /* responsive */
      @media (max-width: 980px) {
        main.wrap {
          grid-template-columns: 1fr;
          padding: 18px;
        }
        .cover {
          width: 84px;
          height: 84px;
        }
        .big-play {
          width: 72px;
          height: 72px;
        }
        .cover-large {
          height: 180px;
        }
      }

      @media (max-width: 520px) {
        header {
          flex-direction: column;
          align-items: flex-start;
          gap: 6px;
        }
        .deco-heart {
          display: none;
        }
      }

      /* accessibility focus */
      button:focus,
      input:focus {
        outline: 3px solid rgba(255, 127, 170, 0.14);
        outline-offset: 3px;
      }
    </style>
  </head>
  <body class="fade-page">
    <main class="wrap" role="main" aria-label="Favorite music">
      <div class="banner-ghost" aria-hidden="true"></div>

      <div class="player-area">
        <header>
          <div>
            <h1>Our Music</h1>
            <div class="sub">Sweet songs for our soft moments üéßüíó</div>
          </div>

          <div style="display: flex; gap: 8px; align-items: center">
            <button class="small-btn" id="backBtn" title="Back">‚üµ Back</button>
            <button class="small-btn" id="letterBtn" title="Open letter">
              üíå Letter
            </button>
          </div>
        </header>

        <section class="now-card" aria-live="polite">
          <div class="cover" id="nowCover">
            <img src="./assets/img022.jpg" alt="cover art" />
          </div>
          <div class="track-meta">
            <div class="track-title" id="nowTitle">Pick a song</div>
            <div class="track-artist" id="nowArtist">‚Äî</div>

            <div class="controls">
              <button
                class="big-play"
                id="playPause"
                aria-pressed="false"
                aria-label="Play/Pause"
              >
                ‚ñ∂
              </button>
              <button class="small-btn" id="prevBtn" aria-label="Previous">
                ‚ü®
              </button>
              <button class="small-btn" id="nextBtn" aria-label="Next">
                ‚ü©
              </button>
              <button class="small-btn" id="shuffleBtn" aria-label="Shuffle">
                üîÄ
              </button>
              <button class="small-btn" id="loopBtn" aria-label="Loop">
                üîÅ
              </button>
            </div>

            <div class="progress-wrap" aria-hidden="false">
              <div class="progress-time" id="curTime">0:00</div>
              <input
                id="seek"
                type="range"
                min="0"
                max="100"
                step="0.1"
                value="0"
                aria-label="Seek"
              />
              <div class="progress-time" id="durTime">0:00</div>
            </div>
          </div>
        </section>

        <div class="playlist" id="playlist" role="list"></div>
      </div>

      <aside class="side">
        <div class="panel">
          <h3>Now playing art</h3>
          <div class="cover-large" id="coverLarge">
            <img src="./assets/img022.jpg" alt="cover" />
          </div>

          <div class="navs">
            <button id="openLetter" title="Open the love letter">
              üíå Open Letter
            </button>
            <button id="openCelebration" title="Go to celebration">
              üéâ Celebration
            </button>
          </div>
        </div>

        <div class="panel">
          <h3>Lines hold our ‚ù§</h3>
          <p
            id="heartLines"
            style="margin: 0; color: var(--muted); font-size: 13px"
          >
            Dil ke aage ye aafat badi hai Khwahishein phir bhi zidd pe adi hai
            Hum se mayoos hoga zamaana Par zamaane ki kisko padi hai
          </p>
        </div>
      </aside>

      <div class="deco-heart">‚ù§</div>
    </main>

   <script type="module">
  // at top of your existing module script
  const cover022 = new URL('./assets/img022.jpg', import.meta.url).href;
  const cover024 = new URL('./assets/img024.jpg', import.meta.url).href;
  const cover010 = new URL('./assets/img010.jpg', import.meta.url).href;
  const bannerImg = new URL('./assets/banner.png', import.meta.url).href;
  const audioMere = new URL('./assets/MereLiyeTumKaafiHo.mp3', import.meta.url).href;
  const audioAashiq = new URL('./assets/AashiqTera.mp3', import.meta.url).href;
  const audioLauv = new URL('./assets/ILikeMeBetter.mp3', import.meta.url).href;

  // you can update the banner background via JS (optional)
  document.querySelector('.banner-ghost').style.backgroundImage = `url(${bannerImg})`;

  const tracks = [
    {
      title: "Mere Liye Tum Kafhi Ho",
      artist: "Ayushman Khurana",
      src: audioMere,
      cover: cover022,
    },
    {
      title: "Aashiq Tera",
      artist: "Sohail Sen, Altamash Faridi",
      src: audioAashiq,
      cover: cover024,
    },
    {
      title: "I Like Me Better",
      artist: "Lauv",
      src: audioLauv,
      cover: cover010,
    },
  ];

      /* Quotes etc (unchanged) */
      const quotes = [
        "Tum kuchh adhoore se, Hum bhi kuchh aadhe! Aadha aadha hum jo dono mila dein, To ban jaayegi apni ek zindgaani ‚ú®‚ù§Ô∏è",
        "Dil ke aage ye aafat badi hai, Khwahishein phir bhi zidd pe adi hai... Hum se mayoos hoga zamaana, Par zamaane ki kisko padi hai üé∂üíó",
        "I like me better when I'm with you, I knew from the first time.. I'd stay for a long time 'cause, I like me better when üíûüå∏",
      ];

      /* player state */
      let current = 0;
      let playing = false;
      const audio = new Audio();
      audio.crossOrigin = "anonymous";
      audio.preload = "metadata";

      /* DOM refs */
      const playlistEl = document.getElementById("playlist");
      const nowTitle = document.getElementById("nowTitle");
      const nowArtist = document.getElementById("nowArtist");

      const nowCoverEl = document.getElementById("nowCover");
      let nowCoverImg = nowCoverEl.querySelector("img");
      if (!nowCoverImg) {
        nowCoverImg = document.createElement("img");
        nowCoverEl.appendChild(nowCoverImg);
      }

      const coverLargeEl = document.getElementById("coverLarge");
      let coverLargeImg = coverLargeEl.querySelector("img");
      if (!coverLargeImg) {
        coverLargeImg = document.createElement("img");
        coverLargeEl.appendChild(coverLargeImg);
      }

      const playBtn = document.getElementById("playPause");
      const prevBtn = document.getElementById("prevBtn");
      const nextBtn = document.getElementById("nextBtn");
      const seek = document.getElementById("seek");
      const curTime = document.getElementById("curTime");
      const durTime = document.getElementById("durTime");
      const shuffleBtn = document.getElementById("shuffleBtn");
      const loopBtn = document.getElementById("loopBtn");

      /* render playlist */
      function renderPlaylist() {
        playlistEl.innerHTML = "";
        tracks.forEach((t, i) => {
          const node = document.createElement("div");
          node.className = "song" + (i === current ? " active" : "");
          node.dataset.index = i;
          node.innerHTML = `
      <div class="s-left"><img src="${t.cover}" alt=""></div>
      <div class="s-right">
        <div class="s-title">${t.title}</div>
        <div class="s-artist">${t.artist}</div>
      </div>
    `;
          node.addEventListener("click", () => {
            loadTrack(Number(node.dataset.index));
            play();
          });
          playlistEl.appendChild(node);
        });
      }
      renderPlaylist();

      /* load / UI sync */
      function loadTrack(i) {
        current = (i + tracks.length) % tracks.length;
        audio.src = tracks[current].src;

        nowTitle.textContent = tracks[current].title;
        nowArtist.textContent = tracks[current].artist;

        // IMPORTANT: use imported cover URL (Parcel has rewritten it)
        nowCoverImg.src = tracks[current].cover;
        coverLargeImg.src = tracks[current].cover;

        document.getElementById("heartLines").textContent = quotes[current];

        document
          .querySelectorAll(".song")
          .forEach((s) => s.classList.remove("active"));
        const active = document.querySelector(`.song[data-index="${current}"]`);
        if (active) active.classList.add("active");
      }

      /* play/pause */
      function play() {
        audio
          .play()
          .then(() => {
            playing = true;
            playBtn.textContent = "‚è∏";
            playBtn.setAttribute("aria-pressed", "true");
          })
          .catch((err) => console.warn("play failed", err));
      }
      function pause() {
        audio.pause();
        playing = false;
        playBtn.textContent = "‚ñ∂";
        playBtn.setAttribute("aria-pressed", "false");
      }

      /* UI wiring */
      playBtn.addEventListener("click", () => {
        if (!audio.src) loadTrack(current);
        if (playing) pause();
        else play();
      });
      prevBtn.addEventListener("click", () => {
        loadTrack(current - 1);
        if (playing) play();
      });
      nextBtn.addEventListener("click", () => {
        loadTrack(current + 1);
        if (playing) play();
      });

      audio.addEventListener("loadedmetadata", () => {
        seek.max = audio.duration;
        durTime.textContent = formatTime(audio.duration);
      });
      audio.addEventListener("timeupdate", () => {
        seek.value = audio.currentTime;
        curTime.textContent = formatTime(audio.currentTime);
      });
      seek.addEventListener("input", () => {
        audio.currentTime = seek.value;
      });
      audio.addEventListener("ended", () => {
        if (loopBtn.dataset.loop === "on") {
          audio.currentTime = 0;
          play();
          return;
        }
        loadTrack(current + 1);
        play();
      });

      function formatTime(sec) {
        if (!isFinite(sec)) return "0:00";
        const m = Math.floor(sec / 60);
        const s = Math.floor(sec % 60)
          .toString()
          .padStart(2, "0");
        return `${m}:${s}`;
      }

      /* small extras (shuffle/loop/navigation) */
      shuffleBtn.addEventListener("click", () => {
        for (let i = tracks.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [tracks[i], tracks[j]] = [tracks[j], tracks[i]];
        }
        renderPlaylist();
        loadTrack(0);
        if (playing) play();
      });

      loopBtn.dataset.loop = "off";
      loopBtn.addEventListener("click", () => {
        loopBtn.dataset.loop = loopBtn.dataset.loop === "on" ? "off" : "on";
        loopBtn.style.background =
          loopBtn.dataset.loop === "on"
            ? "linear-gradient(90deg,var(--accent1),var(--accent2))"
            : "#ffdfe7";
        loopBtn.style.color =
          loopBtn.dataset.loop === "on" ? "white" : "#7b2d5a";
      });

      document
        .getElementById("backBtn")
        .addEventListener("click", () => window.history.back());
      document
        .getElementById("letterBtn")
        .addEventListener(
          "click",
          () => (window.location.href = "./letter.html")
        );
      document
        .getElementById("openLetter")
        .addEventListener(
          "click",
          () => (window.location.href = "./letter.html")
        );
      document
        .getElementById("openCelebration")
        .addEventListener(
          "click",
          () => (window.location.href = "./celebration.html")
        );

      /* initial load */
      loadTrack(0);

      /* keyboard play/pause */
      window.addEventListener("keydown", (e) => {
        if (e.code === "Space" && document.activeElement === document.body) {
          e.preventDefault();
          if (playing) pause();
          else play();
        }
      });
    </script>

    <div class="ribbon one"></div>
    <div class="ribbon two"></div>
    <div class="ribbon three"></div>
    <script>
     

      function burstSparkles() {
        for (let i = 0; i < 20; i++) {
          const sp = document.createElement("div");
          sp.className = "spark";
          sp.style.left = 50 + (Math.random() * 20 - 10) + "vw";
          sp.style.top = 40 + (Math.random() * 20 - 10) + "vh";
          document.body.appendChild(sp);
          setTimeout(() => sp.remove(), 1500);
        }
      }
    </script>
  </body>
</html>
