<!DOCTYPE html><html lang=en><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Flat Cake â€” Candles</title><link rel=stylesheet href=/cake.deb011c6.css><style>.wish-popup{backdrop-filter:blur(3px);z-index:99999;opacity:0;pointer-events:none;background:#1108162e;justify-content:center;align-items:center;transition:opacity .26s;display:flex;position:fixed;inset:0}.wish-popup.show{opacity:1;pointer-events:auto}.wish-box{text-align:center;background:linear-gradient(#fff7fb,#fff0f5);border:3px solid #ff6f9114;border-radius:16px;min-width:260px;max-width:88%;padding:22px 28px;animation:.32s cubic-bezier(.2,.9,.2,1) forwards popWish;box-shadow:0 20px 60px #1808202e}.wish-box h2{color:#ff6f91;margin:0 0 6px;font-family:Lobster,cursive;font-size:22px}.wish-box p{color:#6f2f3e;margin:0 0 14px;font-size:15px;line-height:1.3}.wish-box .ok-btn{appearance:none;color:#fff;cursor:pointer;background:linear-gradient(90deg,#ffb3c8,#ff8aa1);border:none;border-radius:999px;padding:8px 14px;font-weight:600;box-shadow:0 8px 22px #ff6f9124}@keyframes popWish{0%{opacity:0;transform:scale(.7)}60%{opacity:1;transform:scale(1.06)}to{opacity:1;transform:scale(1)}}@media (width<=420px){.wish-box{padding:18px 20px}.wish-box h2{font-size:20px}.wish-box p{font-size:14px}}</style><body>
  <main class=page>
    <section class=card aria-labelledby=title>
      <h1 id=title class=title>Make a Wish</h1>

      <div class=bg-deco aria-hidden=true></div>

      <div class=controls-top>
        <label for=candleCount>Candles</label>
        <div class=candle-controls>
          <button id=decCand>âˆ’</button>
          <input id=candleCount type=range min=1 max=12 value=3>
          <button id=incCand>+</button>
          <span id=candleLabel>3</span>
        </div>
      </div>

      <div class=cake-wrap id=cakeWrap tabindex=0 role=region aria-label="Cake with candles">
        <svg xmlns:xmlns=http://www.w3.org/2000/svg aria-hidden=false class=cake-svg role=img viewBox="0 0 520 360"><ellipse cx=260 cy=320 fill=#efe9f1 rx=180 ry=18 /><ellipse cx=260 cy=280 fill=#ebc8dc14 rx=160 ry=28 /><g id=layer-bottom transform="translate(60 140)"><rect width=400 height=120 fill=#ffdbe6 rx=20 /><path fill=#ffeef4 d="M0 22c36-18 72 8 120 8s36-26 88-14 88 28 132 12 60-18 60-18v92H0Z" class=drip /><rect width=400 height=14 y=98 fill=#ff9fb8 rx=7 /><g fill=#fff opacity=.9><rect width=6 height=2 x=80 y=38 rx=1 transform="rotate(-18 80 38)"/><rect width=6 height=2 x=160 y=64 rx=1 transform="rotate(12 160 64)"/><rect width=6 height=2 x=240 y=48 rx=1 transform="rotate(-28 240 48)"/><rect width=6 height=2 x=320 y=56 rx=1 transform="rotate(14 320 56)"/></g></g><g id=layer-mid transform="translate(120 100)"><rect width=280 height=56 fill=#ffe6ef rx=12 /><rect width=280 height=6 y=44 fill=#ffb1c7 rx=3 /></g><g id=top-pill transform="translate(160 64)"><rect width=200 height=44 fill=#ffdfea rx=12 /><rect width=164 height=6 x=18 y=24 fill=#ff9fb8 rx=3 /></g></svg>
      </div>

      <div class=controls>
        <button id=blowBtn>Blow out</button>
        <button id=makeAWish>Make a wish âœ¨</button>
        <button id=relightAll class=secondary>Relight all</button>
      </div>

    </section>
  </main>

  
  <div id=wishPopup class=wish-popup role=dialog aria-hidden=true aria-modal=true aria-labelledby=wishTitle>
    <div class=wish-box role=document>
      <h2 id=wishTitle>ðŸŽ€ Make a Wish</h2>
      <p id=wishMsg>May all your wishes come true â€” may today be full of love and magic ðŸ’–</p>
      <div style=justify-content:center;display:flex>
        <button id=closeWish class=ok-btn aria-label="Close wish popup">Okay ðŸ’—</button>
      </div>
    </div>
  </div>

  <script>!function(){let t=document.getElementById("cakeWrap"),e=document.getElementById("blowBtn"),n=document.getElementById("makeAWish"),r=document.getElementById("relightAll"),a=document.getElementById("candles"),i=document.getElementById("confetti"),l=document.getElementById("candleCount"),o=document.getElementById("candleLabel"),c=document.getElementById("incCand"),s=document.getElementById("decCand"),u=Math.max(1,Math.min(12,Number(l.value||3))),d=[],m=[],f=function(t,e){return Math.random()*(e-t)+t};function y(t){a.innerHTML="",d=[];for(var e=Math.max(1,Math.min(12,t)),n=200/e,r=0;r<e;r++){var i=160+n/2+r*n,c=function(t,e,n){var r="http://www.w3.org/2000/svg",a=document.createElementNS(r,"g");a.setAttribute("class","candle"),a.setAttribute("data-index",String(t)),a.setAttribute("transform","translate("+e+", 90)");var i=document.createElementNS(r,"rect");i.setAttribute("x","-6"),i.setAttribute("y","-62"),i.setAttribute("width","12"),i.setAttribute("height","50"),i.setAttribute("rx","3"),i.setAttribute("fill","#ff9aa8");var l=document.createElementNS(r,"path");l.setAttribute("d",t%2==0?"M-3 -68 q6 8 0 18":"M6 -68 q-6 8 0 18"),l.setAttribute("stroke",t%3==0?"#ff9aa8":t%3==1?"#8fcfff":"#ffd46b"),l.setAttribute("stroke-width","2"),l.setAttribute("fill","none");var o=document.createElementNS(r,"g");o.setAttribute("class","flameWrap"),o.setAttribute("transform","translate(0,-82)");var c=document.createElementNS(r,"ellipse");c.setAttribute("class","flameGlow"),c.setAttribute("cx","0"),c.setAttribute("cy","-2"),c.setAttribute("rx",String(10+t%2)),c.setAttribute("ry",String(14+t%2)),c.setAttribute("opacity","0.18"),c.setAttribute("fill","#fff2b8");var s=document.createElementNS(r,"path");return s.setAttribute("class","flame"),s.setAttribute("d","M0 0 C4 -8 4 -16 0 -22 C-4 -16 -4 -8 0 0 Z"),s.setAttribute("fill","#ffd06b"),o.appendChild(c),o.appendChild(s),a.appendChild(i),a.appendChild(l),a.appendChild(o),a.addEventListener("click",function(t){t.stopPropagation(),g(Number(a.getAttribute("data-index")))}),a}(r,i,0);a.appendChild(c),d.push(!0)}u=e,l&&(l.value=String(e)),o&&(o.textContent=String(e)),p(),h()}function h(){b(),Array.from(a.querySelectorAll(".candle")).forEach(function(t,e){var n=t.querySelector(".flame"),r=t.querySelector(".flameGlow"),a=f(0,1e3);!function t(){if(d[e]){var i=1+.03*Math.sin(.07*a+e)+.04*Math.random(),l=3*Math.sin(.03*a+e)+f(-1,1);n&&(n.style.transform="scale("+i+") rotate("+l+"deg)"),r&&(r.style.transform="scale("+(1+(i-1)*1.3)+")"),n&&(n.style.opacity=(.85+.15*Math.abs(Math.sin(.04*a))).toString()),a+=1,m[e]=requestAnimationFrame(t)}}()})}function b(){m.forEach(function(t){cancelAnimationFrame(t)}),m=[],Array.from(a.querySelectorAll(".candle")).forEach(function(t){var e=t.querySelector(".flame"),n=t.querySelector(".flameGlow");e&&(e.style.transform="scale(0.25)",e.style.opacity="0"),n&&(n.style.transform="scale(0.25)",n.style.opacity="0")})}function p(){var e=d.some(Boolean);t&&(t.classList.toggle("candle-on",e),t.classList.toggle("candle-out",!e))}function g(t,e){if(!(t<0)&&!(t>=d.length)){d[t]="boolean"==typeof e?e:!d[t];var n=a.querySelector('.candle[data-index="'+t+'"]');if(n){var r=n.querySelector(".flame"),l=n.querySelector(".flameGlow");if(d[t])r&&(r.style.opacity="1"),l&&(l.style.opacity="0.18");else{r&&(r.style.opacity="0"),l&&(l.style.opacity="0");var o=document.createElementNS("http://www.w3.org/2000/svg","circle");o.setAttribute("cx","0"),o.setAttribute("cy",String(-94)),o.setAttribute("r","6"),o.setAttribute("fill","#e9f0ff"),o.style.transition="transform 700ms ease, opacity 700ms ease",i.appendChild(o),setTimeout(function(){o.style.transform="translate("+f(-30,30)+"px, "+f(-120,-40)+"px) scale(0.2)",o.style.opacity="0"},20),setTimeout(function(){o.parentNode&&o.parentNode.removeChild(o)},900)}p(),d.some(Boolean)?h():b()}}}function A(t){for(var e=0;e<t;e++){var n=Math.random()>.5?"rect":"circle",r=document.createElementNS("http://www.w3.org/2000/svg","rect"===n?"rect":"circle"),a=f(180,340),l=f(10,90);"rect"===n?(r.setAttribute("width","6"),r.setAttribute("height","10"),r.setAttribute("rx","1"),r.setAttribute("x",String(a)),r.setAttribute("y",String(l))):(r.setAttribute("r",String(f(2,5))),r.setAttribute("cx",String(a)),r.setAttribute("cy",String(l))),r.setAttribute("fill","hsl("+f(10,320)+", "+f(70,90)+"%, "+f(45,65)+"%)"),r.setAttribute("class","conf"),r.style.opacity="1",i.appendChild(r),function(t){setTimeout(function(){var e=f(-160,160),n=f(80,220);t.style.transform="translate("+e+"px, "+n+"px) rotate("+f(-360,360)+"deg) scale("+f(.4,1)+")",t.style.opacity="0"},f(20,220))}(r)}setTimeout(function(){i.innerHTML=""},1200)}l&&l.addEventListener("input",function(){var t=Math.max(1,Math.min(12,Number(l.value)));o&&(o.textContent=String(t)),y(t)}),c&&c.addEventListener("click",function(){y(Math.min(12,u+1))}),s&&s.addEventListener("click",function(){y(Math.max(1,u-1))}),e&&e.addEventListener("click",function(){for(var t=0;t<d.length;t++)g(t,!1);A(18)}),r&&r.addEventListener("click",function(){for(var t=0;t<d.length;t++)g(t,!0);h()}),n&&n.addEventListener("click",function(){d.some(Boolean)||g(Math.floor(d.length/2),!0),A(30)}),t&&t.addEventListener("click",function(){g(Math.floor(d.length/2))}),document.addEventListener("keydown",function(e){("Space"===e.code||" "===e.key)&&(document.activeElement===document.body||document.activeElement===t)&&(e.preventDefault(),g(Math.floor(d.length/2)))}),y(u)}();</script>


  <script>!function(){let e=document.getElementById("makeAWish"),t=document.getElementById("wishPopup"),i=document.getElementById("closeWish"),n=document.getElementById("wishMsg");function a(){t.classList.remove("show"),t.setAttribute("aria-hidden","true"),t._autoHideTimer&&(clearTimeout(t._autoHideTimer),t._autoHideTimer=null)}e&&t&&i&&(e.addEventListener("click",e=>{let i=["May all your wishes come true, my love ðŸ’–","Wishing you every happiness today and always âœ¨","Make a wish â€” I will hold it in my heart for you ðŸ’—"];!function(e,i=4e3){e&&(n.textContent=e),t.classList.add("show"),t.setAttribute("aria-hidden","false"),i&&i>0&&(clearTimeout(t._autoHideTimer),t._autoHideTimer=setTimeout(a,i))}(i[Math.floor(Math.random()*i.length)],4500)}),i.addEventListener("click",a),t.addEventListener("click",e=>{e.target===t&&a()}),document.addEventListener("keydown",e=>{"Escape"===e.key&&t.classList.contains("show")&&a()}),e.addEventListener("click",()=>{setTimeout(()=>{i.focus()},100)}))}();</script>

